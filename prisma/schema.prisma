// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
  relationMode = "prisma"
}

model Customer {
  forvalId      String  @id
  syshanId      String?
  customerName  String?
  address       String?
  postcode      String?
  created       DateTime? @default(now())
  updated       DateTime? @updatedAt
}

model Contract {
  supplyNumber       String  @id
  syshanId           String?
  supplyName         String?
  contractorName     String?
  contractDetails    String?
  contractCurrent    String?
  paymentMethod      String?
  created            DateTime? @default(now())
  updated            DateTime? @updatedAt
  BillinStatement    BillinStatement[]
}

model BillinStatement {
  id                           Int       @id @default(autoincrement())
  forvalId                     String
  syshanId                     String
  fitId                        String?
  supplyNumber                 Contract  @relation(fields: [supplyNumberId], references: [supplyNumber])
  supplyNumberId               String
  userName                     String?
  status                       Int?
  paymentMonth                 Int?
  startDay                     Int?
  endDay                       Int?
  productCode                  String?
  useAmount                    Int?
  totalAmount                  Int?
  government                   Int?
  tax                          Int?
  CO2Discharge                 String?
  parentId                     String?
  childId                      String?
  created                      DateTime? @default(now())
  updated                      DateTime? @updatedAt
}

model Merchandise {
  chargeItemCode  String  @id
  productName     String?
  unit            String?
  unitPrice       Int?
  position        Int?
  created         DateTime? @default(now())
  updated         DateTime? @updatedAt
}
